#### 双色球的蓝球应该怎么选之技术篇
* 我是如何分析第三方接口的？
  - 页面用的session技术。非前后端分离。首次请求时，页面302，响应头中会附带Set-Cookie字段。
  - 把这个值拿到后，分析有效期，然后存储到redis中。
  - 后续请求其他接口时，请求头中附带上对应的Cookie字段即可进行接口代理。
* 服务器1核2G。能承载的东西有限。如何进行优化，以减少服务器压力？
  - 在客户端，给本地存储扩展有效期功能。然后把不经常变动的接口数据进行本地缓存。可以分别存储9分钟、8分钟、7分钟。以减少对服务器的压力。
  - 在服务端，把不经常变动的接口数据存储到redis中。可以分别存储9分钟、8分钟、7分钟。以减少对数据库的压力。
    - 此处是以少量内存空间换取和数据库通信损耗的时间，是很划算的。
  - 在服务端，我为什么不对用户信息的数据进行缓存？
    - 因为每个用户的信息都不一样。
    - 假设存储的有效期为9分钟。如果这断时间，来了相对多的人，那么我就要在redis中存储相对多的数据。很吃内存。
    - 而我服务器的内存本就很少，所以此处用大量内存空间换取和数据库通信损耗的时间，是很不划算的。
* 引入新技术的同时，往往会带来新问题。那缓存又会带来什么风险呢？
  - 最常遇到的问题，就是数据的更新问题。当更新数据库中的某个字段时，不要忘记把缓存中对应的字段也进行一次更新。否则数据展示会异常。
  - 假如你缓存了用户信息，而用户却切换了门店，如果你不更新对应门店字段，则用户切换门店会失败。所以我们经常使用缓存来存储那些不经常变动的数据。
  - 但有时为了提高性能，也会缓存一些变动数据。这时就要注意一下，要对原始数据和缓存数据进行同步更新。
