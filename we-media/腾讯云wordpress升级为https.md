我有一个朋友，他在腾讯云上有一个轻量应用服务器，然后安装了wordpress用以管理网站。

他的网站是http的，会显示网站不安全。
所以他想把他的wordpress网站升级为https网站。

首先他需要去腾讯云给他的域名申请一个ssl证书。
然后把证书下载下来，并配置到对应的代理服务中。
难点就在于如何配置到对应的代理服务中。

我朋友是申请完毕之后，直接去wordpress后台，把网站的路径从http改为了https。
然后导致wordpress后台和网站都打不开了。
如果他想让wordpress后台和网站能正常打开，他则需要还原修改。
他需要登录云服务器，找到wp_options.php文件，并查看其中的内容。
他就可以看到数据库的账号和密码，修改数据库中的wp_options表，把site_url字段和home字段的值改回http即可。

我登录服务器后，需要先知道使用的是哪种代理服务器。
所以我运行了`sudo netstat -tlnp`。
发现80端口被nginx占用着，然后我就去下载了给nginx使用的ssl证书。
当我正要准备去nginx中进行配置时，我发现8888端口居然也被占用着。
这个端口通常是被宝塔面板使用，有了这个玩意儿，我就不需要自己去nginx中进行配置了。

然后我自信的在浏览器中输入`http://你的云服务器ip:8888`，果然不出我所料，访问失败了。
原来是因为服务器防火墙中8888端口没对外开发。放开之后输入`http://你的云服务器ip:8888/tencentcloud`即可访问成功。

访问成功之后，但是账号和密码是啥，我不知道，那就需要运行`sudo bt 14`命令。
运行完毕之后，可以看到账号和密码，然后登录宝塔面板。
找到网站，找到设置，先添加域名，再添加ssl。
添加ssl时，找到下载的ssl证书，里面有pem文件和key文件，然后把文件中的内容，粘贴到对应配置里即可。

配置完毕之后，若发现网站中有一些图片无法显示。
可以使用wordpress的`Better Search Replace`插件批量修改wp_posts表中guid字段里的图片路径。
