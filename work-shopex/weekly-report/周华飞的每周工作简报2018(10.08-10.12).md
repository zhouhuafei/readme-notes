# 微好店后台
* 商品列表，批量排序无效。待续...
* 商品列表，已下架，批量参与会员折扣无效。待续...
* 商品列表，已下架，批量修改商品标签无效。待续...
* 商品列表，已下架，批量修改商品分类无效。待续...
* 客户，客户分组功能开发
    - 待续...
* 排查问题之：【免费版无使用小程序权限哟，请前去升级】弹窗出现的原因。

# 微好店h5
* 本地怎么测试lua拼团。待续...
* 本地无法下单。待续...
* 店铺头部 店铺认证前台没有展示的地方。待续...
* 生成海报时有时无的问题。后端应该等海报绘制完成之后返回结果吧。待续...
    - 海报组合页：/poster?goods_id=430&style=1
    - 本地PhantomJS进行测试，发现即使是很多图片的大型网站，也是能直接截取出来的，原因猜测是后端截取数据的时候，没等数据拉取完毕，就进行了结果返回。
    - 解决方案：网页中引入的图片直接使用base64直接渲染出来。然后再使用PhantomJS截取出来。有待后端配合和测试是否可行。待续...
* 装修时，数字轮播，数字跳动有问题，找不到原因。待续...


# 微好店商家自有小程序
* 小程序首页如果有一些链接的入口，是需要登录之后才能访问的。那么如果没授权登录之前。点进去了。岂不是会出问题？
    - 打接口时，需要登录的接口给予提示，然后去登录。在二次封装的ajax底层进行统一处理。待续...
* 海报切换的流畅度以及清晰度优化。
    - 全都是微信小程序canvas组件的坑。
* 查看更多放出来，朋友圈海报。注释掉分享到朋友圈的文案。
* 查看更多又不上线了，先隐藏。
* 分享到朋友圈的文案去掉之后，按钮调整距离底部的间距。
* 支付防止多次被调起
```
  toOrderPay() {
    const that = this;
    if (that.isPaying === undefined) {
      that.isPaying = false; // 如果是在支付中，则不允许多次调起支付弹层。
    }
    if (that.isPaying) {
      return;
    }
    that.isPaying = true;
    console.log('调起支付接口进行中...');
    OrderDetail.payment({
      orderID: that.data.orderId,
      failCallback() {
        that.isPaying = false;
      },
      callback(res) {
        const result = res.result || {};
        const nonceStr = result.nonceStr || '';
        const orderId = result.order_id || '';
        const paySign = result.paySign || '';
        const prepayId = result.prepay_id || '';
        const timeStamp = result.timeStamp || '';
        wx.requestPayment({
          timeStamp: String(timeStamp),
          nonceStr,
          package: `prepay_id=${prepayId}`,
          signType: 'MD5',
          paySign,
          success() {
            wx.showToast({
              title: '支付成功',
              icon: 'success',
              duration: 2000,
            });
            setTimeout(() => {
              if (that.data.orderSource === 'groupbuy') {
                const ref = `${app.config.h5Domain}${that.data.link}`;
                wx.redirectTo({ url: `../web-view/web-view?ref=${encodeURIComponent(ref)}` });
              } else {
                wx.redirectTo({ url: `../order-details/order-details?id=${orderId}` });
              }
            }, 2000);
          },
          fail(res) {
            that.isPaying = false;
            wx.showModal({
              title: '提示',
              content: res.err_desc,
              showCancel: false,
            });
            setTimeout(() => {
              wx.hideToast();
            }, 2000);
          },
        });
      },
    });
  },
```
* 保证规格的顺序的前提修改，后端接口修改需等小程序审核通过之后再修改。
    - 因json格式的对象，如果键是数字的话无法保证顺序，所以需要接口中需要换成数组。需等小程序审核通过才可以继续修改。
* 修复失去的焦点的数量异常的bug。
    - input中接收的数字要先Numer一下。否则后续对比大小会出问题。
* 放出查看更多。
* 修复搜索页无商品时，图片引入404错误的问题。
* 查看更多增加底部间距。

# 微好店门店小程序

# 微商城后台
* 高级搜索，批量下架，批量上架有bug。此页中的所有4条记录都已选中。点此选中当前列表中的所有4条记录。
    - 解决方案：猜想是参数带的不够，没带上分类的的类型。其实带了，这个需要后端处理。待续...

# 微商城h5

# 微商城pc

# 微商城小程序
