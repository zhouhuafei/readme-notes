# 草动商城 - Admin
* 数据分析。
    - 接口对接。待续...
    - 总部才能看。都能看。
    - 分公司门店排行和最上边的选择分公司和门店有关系么？无关系。
    - 分销分析。开启了分销才有分销分析。
* 同步加字段。
    - 虚拟销量
    - 库存

# 草动商城 - MP
* h5文章跳小程序找方案。从微信公众号的文章里找小程序相关的商品链接。生成二维码插入。或者给图片加水印(二维码)。
```
// 找小程序相关的商品链接
const applink = document.querySelectorAll('.weapp_image_link')
applink.forEach(v => {
  const img = v.querySelector('img')
  console.log(img.dataset.src)
  console.log(v.dataset.miniprogramType) // image
  console.log(v.dataset.miniprogramAppid) // wxb26549a375666a7a
  console.log(v.dataset.miniprogramPath) // pages/item/espier-detail?id=293&utm_source=officialaccount&utm_medium=1021presale&utm_content=mascara
  const query = url('?', v.dataset.miniprogramPath)
  const path = url('path', `/${v.dataset.miniprogramPath}`)
  console.log('path', path)
  console.log('query', query)
  console.log('↑---------------------------------------↑')
})
```
* innisfree项目，h5文章中小程序的链接替换为二维码 - 主分支中也需要加。
    - 当前master分支的commitId d26e8f8ef5aaa633b19dc5f0baa071a6ae6548f2 因广举没切分支，我备注一下。
    - 二维码的获取方式不一样，需要和宋帆沟通。待续...
    - 任务列表过滤，只留文章的，以及字段更换。待续...
    - h5文章抓取。以及推送。测试。没有推送。因innisfree的消息模板被封号了！利用消息回复。获取任务列表的方式做！
    - 微信jssdk本地怎么调试？配hosts！
    - 微信jssdk签名中的url必须是绑定的域名吗？是的！可以配置顶级域名！二级域名也可以用！
    - 但是微信的授权域名是全域名规范，配置了顶级域名，则回调地址只能是顶级域名。配置的是二级域名，则回调地址只能是二级域名。
* 规格弹窗会员价的地方，展示一口价。如果有一口价。
* 砍价详情的商品要能跳商品详情。
* 优惠券分享图可配置。待续...
* 我的优惠券列表点击跳优惠券详情页。
* 优惠券详情增加优惠券码字段。
    - 没领取和使用按钮。即。没按钮。重新做一个页面吧。我的优惠券详情和优惠券详情不是同一个id。数据可能不一致。
* 新版扫码-首次不会切换门店。
    - 生成二维码的时候，让后端带着sceneId和storeId以及empid去生成码。
    - 小程序审核通过之后，让后端把sceneId的拼接去掉。待续...
    - 或者登陆的时候，检测`onLaunch (opts)`，把opts存储起来，登陆的时候有storeId和empid就带着。目前选择的上面的方案。搜索关键字：scene过长。
