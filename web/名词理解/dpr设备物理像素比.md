# 设备物理像素
* 全称：device pixels
* 简称：dp
* 定义：显示屏是由一个个设备物理像素点组成的，通过控制每个像素点的颜色，使屏幕显示出不同的图像，屏幕从工厂出来那天起，它上面的物理像素点就固定不变了，单位pt。也称为物理分辨率。也是设备支持的最大分辨率。

# 设备独立像素
* 全称：device independent pixels
* 简称：dip
* 定义：与设备无关的逻辑像素，代表可以通过程序控制使用的虚拟像素，是一个总体概念。
* 变化：设备独立像素和设备使用的分辨率有关，当设备使用的分辨率发生变化，则设备的独立像素也会发生变化。
* 获取：js通过screen.width可以获取设备独立像素。

# css像素
* 虚拟像素，可以理解为“直觉”像素，css和js使用的抽象单位，浏览器内的一切长度都是以css像素为单位的，css像素的单位是px。

# 设备物理像素比
* 全称：device pixel ratio
* 简称：dpr
* 定义：设备物理像素比 = 设备物理像素 / 设备独立像素
* js获取：window.devicePixelRatio

# 设备物理像素与设备独立像素之间的关系
* 当设备物理像素比为1:1时，使用1（1*1）个设备物理像素（pt）点显示1个1*1的设备独立像素点。
* 当设备物理像素比为2:1时，使用4（2*2）个设备物理像素（pt）点显示1个1*1的设备独立像素点。
* 当设备物理像素比为3:1时，使用9（3*3）个设备物理像素（pt）点显示1个1*1的设备独立像素点。

# iphone4
* 设备物理像素：640x960pt
* 设备独立像素：320x480px
* 网页的css像素：320x480px
* 设备像素比：2

# 像素密度
* 全称：pixels per inch
* 简称：ppi
* 定义：像素密度，即每英寸屏幕所拥有的像素(pt)点数，像素密度(pt)越大，显示画面细节就越丰富。

# 设备物理像素比与设备独立像素以及像素密度之间的关系
* 如果设备像素比为1的设备像素点数为320*480，1个设备独立像素点占1个设备物理像素(pt)点，像素(pt)密度低。
* 那么设备像素比为2的设备像素点数为640*960，1个设备独立像素点占4个设备物理像素(pt)点，像素(pt)密度高。
* 设备物理像素比越大，像素(pt)密度越高，屏幕越清晰。

# 总结
* 设备的物理像素和像素密度都是固定不变的。所以：设备物理像素比越高，屏幕越清晰。
* 屏幕清晰，不代表站点图片清晰。位图占的设备物理像素更多，则相当于放大了，会模糊。如果不想模糊，则需要用更大的图。
* pc上没加meta（name=viewport）的页面，到手机上会缩小，那是浏览器缩小的页面。缩小的是css像素。css像素和设备独立像素的比例会变小。
* pc上手动放大页面或者缩小页面，放大缩小的是css像素，改变的是css像素和设备独立像素的比例。
* 假如浏览器放大2倍
    - 对于设备物理像素比的高倍屏来说，1个设备独立像素点占4个设备物理像素点，这点是没变化的。
    - 但是css像素发生了改变，此时，css像素放大了2倍，1个css像素点，占4个设备独立像素点。
    - 占的设备物理像素更多，则看起来更大。
* 假如浏览器缩小2倍
    - 对于设备物理像素比的高倍屏来说，1个设备独立像素点占4个设备物理像素点，这点是没变化的。
    - 但是css像素发生了改变，此时，css像素缩小了2倍，则4个css像素点，占1个设备独立像素点。
    - 占的设备物理像素更少，则看起来更小。
* 设备独立像素为320x480px的设备上，手机端页面给meta加dpr缩小0.5倍，只是把css像素缩小了两倍，致使4个css像素点才能占一个设备独立像素点，也就是2px的css像素，才占1px的设备独立像素，所以网页铺满设备独立像素宽度就会变成了640px，浏览器缩小放大页面也是这个原理。
* 在没有缩放的情况下，设备独立像素的值是等于css像素值的。
* 设备独立像素和分辨率有关，分辨率改变设备独立像素就会改变。

# 手机端页面retina屏上1px的边框，看起来更粗（其实是更清晰），这正是设备像素比的体现。
* 其实本身还是1px，只不过截图到ps软件里，被放大了倍数。所以你测量的是2px或者是3px。
* 边框是矢量图，2倍屏下1个像素的设备独立像素占了2个像素的设备物理像素，所以看起来更清晰且不会模糊。
* 设备像素比为2时，1个1*1的设备独立像素点，会占4个1*1的设备物理像素（pt）点。
* 所以1个1*1的设备独立像素方格，在2倍屏下会占1个2*2的设备物理像素方格。
* 根据这个特性，可以在高倍屏上进行等倍的缩放，让1px的边框看起来更细。具体请参阅，手机端自适应.md。

# 一张1倍屏下750px的图片拿到高倍屏中去观看，发现会变模糊，这也是设备像素比的体现。
* 1倍屏中，1个设备独立像素占1个设备物理像素。
* 2倍屏中，1个设备独立像素占2个设备物理像素。
* 矢量图不会变模糊，但是位图会变模糊，图片占的物理像素更多了，然而：
* 系统显示平滑算法是按照实际像素来计算平滑过渡，那么被拉伸的图片像素会大量出现相邻两像素完全一样的灰阶。以此计算出来的图片就失去了图片锐度。变得模糊。

# 高倍屏图片模糊案例以及解决方案
* 例如手机端一张320*320px的图片，如果我使用的是960*960px的图片，则就不会模糊，原理如下。
* 1倍屏320px的图片，图片3px的css像素等于1像素的设备独立像素，1像素的设备独立像素占1像素的设备物理像素，图片占的设备物理像素是320*320pt，等比缩小，图片不会模糊。
* 2倍屏320px的图片，图片3px的css像素等于1像素的设备独立像素，1像素的设备独立像素占2像素的设备物理像素，图片占的设备物理像素是640*640pt，等比缩小，图片不会模糊。
* 3倍屏320px的图片，图片3px的css像素等于1像素的设备独立像素，1像素的设备独立像素占3像素的设备物理像素，图片占的设备物理像素是960*960pt，没有缩放，图片不会模糊。
* 所以手机端一般是使用2倍图或者3倍图。
* 电脑端其实也存在这个问题，因为不是所有的站点都支持retina屏的高倍设备物理像素比，所以很多站点的图片都是模糊的，如果想要高清，那就要2倍图，甚至更高倍。
* 高倍图带来的是高消耗。所以这个要看网站运营者的取舍。

# 设备物理像素比的体现
* 普通的windows屏幕，设备物理像素比是1。
* mac的retina屏幕，设备物理像素比是2。
* mac截一张100x100像素的图发给windows，在windows上打开时，会变成200x200像素。会很清晰。
* windows截一张100x100像素的图发给mac，在mac上打开时，还是100x100像素。会糊很多。
* 应用场景：制作h5页面时，一般会使用2倍图或3倍图，就是为了保障在苹果手机上能更清晰的展示，因为苹果手机设备物理像素比通常大于等于2。
  - iPhone 6/7/8 的设备物理像素比是2
  - iPhone 6/7/8 plus 的设备物理像素比是3
  - 苹果后续新出的机型 其设备物理像素比通常都是3
* 其他场景：使用retina屏访问网页时，有时会遇到图片模糊的情况，这主要是因为这些网页使用的图不是2倍图。
