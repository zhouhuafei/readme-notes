## 压力测试 - jmeter

#### Jmeter 线程数、Ramp-Up时间（秒）、循环次数 都是什么意思？
* https://blog.csdn.net/yu97271486/article/details/122991051
* 压测场景：假设我开了一家店。店里有很多台自助结算终端。
  - 线程数：100。可以理解为店外有100个客户。
  - Ramp-up时间（秒）：10。可以理解为这100个客户，用了10秒全部进店了。
  - 循环次数：10。可以理解为客户结算完一次后，接着结算下一次，直到结算了10次。
    - 使用 KeepAlive：勾选。客户结算完一次后，不更换自助结算终端，继续结算下一次。
    - 使用 KeepAlive：不勾选。客户结算完一次后，更换自助结算终端，继续结算下一次。
* 压测目的：测出店里究竟有多少台自助结算终端。即同一时间能对多少客户进行结算。即吞吐量。
  - 吞吐量和电脑的配置有关，电脑配置越高（自助结算终端越多），吞吐量越高。建议提高电脑配置（提升自助结算终端数量）。
  - 吞吐量和程序的性能有关，程序性能越高（自助结算终端越快），吞吐量越高。建议使用好的程序（提升自助结算终端速度）。
#### 观察哪些数据？
* 看错误率：观察服务器处理这些请求时是否出现了错误，出现错误则表示遇到瓶颈。没出错则提升参数继续进行压测，直到出现错误。
* 看吞吐量：观察服务器每秒能处理多少条请求。
#### 压测注意事项？
* 每次压测之前，都要清除掉上次压测的聚合报告，特别是改了配置之后，否则聚合报告的样本会进行累积，导致当前次压测的聚合报告不准确。

## 场景
#### 场景1：模拟100个用户，同时点击了一下图片验证码的刷新按钮。
* 配置：
  - 线程数：100
  - Ramp-up时间（秒）：1
  - 循环次数：1
  - 使用 KeepAlive：勾选
* 讲解：1秒启动100个线程，100个线程同时发起请求，每个线程每次发1条请求。

#### 场景2：模拟100个用户，同时点击了一下图片验证码的刷新按钮。当他们对应的的验证码刷出来之后，他们又进行了下一次的点击，如此行为，持续了10秒。
* 配置：
  - 线程数：100
  - Ramp-up时间（秒）：1
  - 循环次数：勾选永远
  - 调度器：勾选
    - 持续时间（秒）：10
  - 使用 KeepAlive：勾选
* 讲解：1秒启动100个线程，100个线程同时发起请求，每个线程每次发1条请求，当对应线程的对应请求响应后，对应线程则继续发下一条请求。直到压完10秒。
